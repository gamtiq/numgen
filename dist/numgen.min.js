!function(a,b){if("object"==typeof exports)module.exports=b(require,exports,module);else if("function"==typeof define&&define.amd)define(["require","exports","module"],b);else{var c=function(b){return a[b]},d=a,e={exports:d};a.NumGen=b(c,d,e)}}(this,function(a,b,c){function d(a){a&&"object"==typeof a&&("factor"in a&&this.setFactor(a.factor),"startValue"in a&&this.setStartValue(a.startValue),"maxValue"in a&&this.setMaxValue(a.maxValue),"resetValueOnMax"in a&&this.setResetValueOnMax(a.resetValueOnMax),"valueChange"in a&&this.setValueChange(a.valueChange),"passToChanger"in a&&this.setPassToChanger(a.passToChanger),"valueChangePeriod"in a&&this.setValueChangePeriod(a.valueChangePeriod),"valueSavePeriod"in a&&this.setValueSavePeriod(a.valueSavePeriod)),this.reset()}return d.prototype._factor=1,d.prototype.getFactor=function(){return this._factor},d.prototype.setFactor=function(a){return this._factor=a,this},d.prototype._value=0,d.prototype.getValue=function(){return this._value},d.prototype._startValue=0,d.prototype.getStartValue=function(){return this._startValue},d.prototype.setStartValue=function(a){return this._startValue=a,this},d.prototype._maxValue=Number.MAX_VALUE,d.prototype.getMaxValue=function(){return this._maxValue},d.prototype.setMaxValue=function(a){return this._maxValue=a,this},d.prototype._resetValueOnMax=!1,d.prototype.isResetValueOnMax=function(){return this._resetValueOnMax},d.prototype.setResetValueOnMax=function(a){return this._resetValueOnMax=a,this},d.prototype._valueChange=1,d.prototype.getValueChange=function(){return this._valueChange},d.prototype.setValueChange=function(a){return this._valueChange=a,this},d.prototype._passToChanger=!1,d.prototype.isPassToChanger=function(){return this._passToChanger},d.prototype.setPassToChanger=function(a){return this._passToChanger=a,this},d.prototype._valueChangePeriod=-1,d.prototype.getValueChangePeriod=function(){return this._valueChangePeriod},d.prototype.setValueChangePeriod=function(a){return this._valueChangePeriod=a,this},d.prototype._valueSavePeriod=-1,d.prototype.getValueSavePeriod=function(){return this._valueSavePeriod},d.prototype.setValueSavePeriod=function(a){return this._valueSavePeriod=a,this},d.prototype._index=0,d.prototype.getIndex=function(){return this._index},d.prototype._prev=void 0,d.prototype.getPrev=function(){return this._prev},d.prototype._current=0,d.prototype.getCurrent=function(){return this._current},d.prototype._lastNumberTime=0,d.prototype._state=null,d.prototype.getNext=function(){var a,b,c,d=this.getFactor(),e=this._lastNumberTime,f=this.getStartValue(),g=this._lastNumberTime=(new Date).getTime(),h=g-e,i=this.getValueSavePeriod();return this._index++,i>=0&&h>i?i=this._value=f:(i=this.getValueChangePeriod())<0||i>=h?(b=this.getMaxValue(),a=this.getValueChange(),"number"==typeof a?this._value+=a:a&&(c={index:this._index,value:this._value,startValue:this.getStartValue(),maxValue:b,factor:d,prev:this._prev,current:this._current,state:this._state||(this._state={})},this.isPassToChanger()&&(c.generator=this),"function"==typeof a?this._value=a(c):"function"==typeof a.execute&&(this._value=a.execute(c))),i=this._value,i>=b&&(i=this._value=b,this.isResetValueOnMax()&&(this._value=f))):i=this._value,this._prev=this._current,this._current=i*d},d.prototype.getNextPart=function(a){for(var b=[];a-->0;)b.push(this.getNext());return b},d.prototype.clone=function(){return new d({factor:this.getFactor(),maxValue:this.getMaxValue(),passToChanger:this.isPassToChanger(),resetValueOnMax:this.isResetValueOnMax(),startValue:this.getStartValue(),valueChange:this.getValueChange(),valueChangePeriod:this.getValueChangePeriod(),valueSavePeriod:this.getValueSavePeriod()})},d.prototype.getPart=function(a,b){"use strict";var c,d,e=[];if(b>=a){for(c=this.clone(),d=0;a>d;)d++,a>d&&c.getNext();for(0===d&&(e.push(c.getCurrent()),d++);d++<=b;)e.push(c.getNext())}return e},d.prototype.toArray=function(a){return this.getPart(1,a)},d.prototype.reset=function(){return this._value=this._startValue,this._current=this.getValue()*this.getFactor(),this._prev=void 0,this._index=0,this._lastNumberTime=(new Date).getTime(),this._state=null,this},d.prototype.dispose=function(){this._state=null},d.prototype.toString=function(){"use strict";var a;return["NumberGenerator: ","factor - ",this.getFactor(),", value - ",this.getValue(),", start value - ",this.getStartValue(),", max value - ",this.getMaxValue(),", value change period - ",(a=this.getValueChangePeriod())<0?"no":a+"ms",", value save period - ",(a=this.getValueSavePeriod())<0?"no":a+"ms",", index - ",this.getIndex(),", previous item - ",this.getPrev(),", current item - ",this.getCurrent()].join("")},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator&&(d.prototype[Symbol.iterator]=function(){return this},d.prototype.next=function(){return{done:!1,value:this.getNext()}}),c.exports=d,d});